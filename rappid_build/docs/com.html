<!DOCTYPE html>
<html class="no-js">
<head>
    <meta http-equiv="x-ua-compatible" content="IE=Edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/prism.css">
    <link rel="stylesheet" type="text/css" href="css/api.css">
    <title>Rappid - com</title>
</head>
<body data-name="com">

<div class="docs-main">
    <nav class="docs-nav">
        <input class="docs-nav-search" type="text" placeholder="i.e. scroller">
        <img class="docs-nav-search-clear" src="./images/clear.png" title="Clear Search">
            <ul class="docs-nav-items">
                <li class="docs-nav-item" data-name="index">
                </li>
                <li class="docs-nav-item" data-name="alg">
                    <a class="docs-nav-item-link" href="alg.html">alg</a>
                            <ul class="docs-nav-items">
                                <li class="docs-nav-item" data-name="alg.Dijkstra">
                                    <a class="docs-nav-item-link" href="alg.html#alg.Dijkstra">Dijkstra</a>
                                </li>
                                <li class="docs-nav-item" data-name="alg.PriorityQueue">
                                    <a class="docs-nav-item-link" href="alg.html#alg.PriorityQueue">PriorityQueue</a>
                                </li>
                            </ul>        </li>
                <li class="docs-nav-item open" data-name="com">
                    <a class="docs-nav-item-link" href="com.html">com</a>
                            <ul class="docs-nav-items">
                                <li class="docs-nav-item" data-name="com.Channel">
                                    <a class="docs-nav-item-link" href="com.html#com.Channel">Channel</a>
                                </li>
                            </ul>        </li>
                <li class="docs-nav-item" data-name="dia">
                    <a class="docs-nav-item-link" href="dia.html">dia</a>
                            <ul class="docs-nav-items">
                                <li class="docs-nav-item" data-name="dia.CommandManager">
                                    <a class="docs-nav-item-link" href="dia.html#dia.CommandManager">CommandManager</a>
                                </li>
                                <li class="docs-nav-item" data-name="dia.GraphUtils">
                                    <a class="docs-nav-item-link" href="dia.html#dia.GraphUtils">GraphUtils</a>
                                </li>
                                <li class="docs-nav-item" data-name="dia.Validator">
                                    <a class="docs-nav-item-link" href="dia.html#dia.Validator">Validator</a>
                                </li>
                            </ul>        </li>
                <li class="docs-nav-item" data-name="format">
                    <a class="docs-nav-item-link" href="format.html">format</a>
                            <ul class="docs-nav-items">
                                <li class="docs-nav-item" data-name="format.GEXF">
                                    <a class="docs-nav-item-link" href="format.html#format.GEXF">GEXF</a>
                                </li>
                                <li class="docs-nav-item" data-name="format.Print">
                                    <a class="docs-nav-item-link" href="format.html#format.Print">Print</a>
                                </li>
                                <li class="docs-nav-item" data-name="format.Raster">
                                    <a class="docs-nav-item-link" href="format.html#format.Raster">Raster</a>
                                </li>
                                <li class="docs-nav-item" data-name="format.SVG">
                                    <a class="docs-nav-item-link" href="format.html#format.SVG">SVG</a>
                                </li>
                            </ul>        </li>
                <li class="docs-nav-item" data-name="layout">
                    <a class="docs-nav-item-link" href="layout.html">layout</a>
                            <ul class="docs-nav-items">
                                <li class="docs-nav-item" data-name="layout.ForceDirected">
                                    <a class="docs-nav-item-link" href="layout.html#layout.ForceDirected">ForceDirected</a>
                                </li>
                                <li class="docs-nav-item" data-name="layout.GridLayout">
                                    <a class="docs-nav-item-link" href="layout.html#layout.GridLayout">GridLayout</a>
                                </li>
                                <li class="docs-nav-item" data-name="layout.TreeLayout">
                                    <a class="docs-nav-item-link" href="layout.html#layout.TreeLayout">TreeLayout</a>
                                </li>
                            </ul>        </li>
                <li class="docs-nav-item" data-name="shapes">
                    <a class="docs-nav-item-link" href="shapes.html">shapes</a>
                            <ul class="docs-nav-items">
                                <li class="docs-nav-item" data-name="shapes.bpmn">
                                    <a class="docs-nav-item-link" href="shapes.html#shapes.bpmn">bpmn</a>
                                </li>
                                <li class="docs-nav-item" data-name="shapes.chart">
                                    <a class="docs-nav-item-link" href="shapes.html#shapes.chart">chart</a>
                                            <ul class="docs-nav-items">
                                                <li class="docs-nav-item" data-name="shapes.chart.knob">
                                                    <a class="docs-nav-item-link" href="shapes.html#shapes.chart.knob">knob</a>
                                                </li>
                                                <li class="docs-nav-item" data-name="shapes.chart.matrix">
                                                    <a class="docs-nav-item-link" href="shapes.html#shapes.chart.matrix">matrix</a>
                                                </li>
                                                <li class="docs-nav-item" data-name="shapes.chart.pie">
                                                    <a class="docs-nav-item-link" href="shapes.html#shapes.chart.pie">pie</a>
                                                </li>
                                                <li class="docs-nav-item" data-name="shapes.chart.plot">
                                                    <a class="docs-nav-item-link" href="shapes.html#shapes.chart.plot">plot</a>
                                                </li>
                                            </ul>        </li>
                            </ul>        </li>
                <li class="docs-nav-item" data-name="storage">
                    <a class="docs-nav-item-link" href="storage.html">storage</a>
                            <ul class="docs-nav-items">
                                <li class="docs-nav-item" data-name="storage.Local">
                                    <a class="docs-nav-item-link" href="storage.html#storage.Local">Local</a>
                                </li>
                            </ul>        </li>
                <li class="docs-nav-item" data-name="ui">
                    <a class="docs-nav-item-link" href="ui.html">ui</a>
                            <ul class="docs-nav-items">
                                <li class="docs-nav-item" data-name="ui.intro">
                                </li>
                                <li class="docs-nav-item" data-name="ui.Clipboard">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Clipboard">Clipboard</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.ColorPalette">
                                    <a class="docs-nav-item-link" href="ui.html#ui.ColorPalette">ColorPalette</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.ContextToolbar">
                                    <a class="docs-nav-item-link" href="ui.html#ui.ContextToolbar">ContextToolbar</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Dialog">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Dialog">Dialog</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.FlashMessage">
                                    <a class="docs-nav-item-link" href="ui.html#ui.FlashMessage">FlashMessage</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.FreeTransform">
                                    <a class="docs-nav-item-link" href="ui.html#ui.FreeTransform">FreeTransform</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Halo">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Halo">Halo</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Inspector">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Inspector">Inspector</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Keyboard">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Keyboard">Keyboard</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Lightbox">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Lightbox">Lightbox</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Navigator">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Navigator">Navigator</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.PaperScroller">
                                    <a class="docs-nav-item-link" href="ui.html#ui.PaperScroller">PaperScroller</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Popup">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Popup">Popup</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.SelectBox">
                                    <a class="docs-nav-item-link" href="ui.html#ui.SelectBox">SelectBox</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.SelectButtonGroup">
                                    <a class="docs-nav-item-link" href="ui.html#ui.SelectButtonGroup">SelectButtonGroup</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Selection">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Selection">Selection</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Snaplines">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Snaplines">Snaplines</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Stencil">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Stencil">Stencil</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.TextEditor">
                                    <a class="docs-nav-item-link" href="ui.html#ui.TextEditor">TextEditor</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Toolbar">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Toolbar">Toolbar</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.Tooltip">
                                    <a class="docs-nav-item-link" href="ui.html#ui.Tooltip">Tooltip</a>
                                </li>
                                <li class="docs-nav-item" data-name="ui.TreeLayoutView">
                                    <a class="docs-nav-item-link" href="ui.html#ui.TreeLayoutView">TreeLayoutView</a>
                                </li>
                            </ul>        </li>
            </ul>    </nav>
    <section class="docs-content">
        <h1 class="docs-header">Rappid - com</h1>
        
        <div class="docs-items">
            
    <div id="com" class="docs-item">
    <div id="com.Channel" class="docs-item">
        <a href="#com.Channel" class="docs-item-anchor">
            <h3 class="docs-item-header">com.Channel</h3>
        </a>
        <div class="docs-item-content">
<p>The Channel plugin is a very powerful tool that brings <b>real-time collaboration</b> capability 
to your applications. The plugin <b>synchronises JointJS graphs between clients and server</b> 
and automatically resolves merge conflicts. Real-time collaboration is only one 
application of this plugin. Others include push updates, easy persistence, monitoring and more.</p>

<p>The Channel plugin uses <a href="http://en.wikipedia.org/wiki/Operational_transformation">Operational transformations</a>
to maintain consistency across concurrent updates. This means that even though there are different updates
to the same JointJS graph that happened at the same time at different sites (across clients and even server),
the Channel plugin makes sure the result, after applying those updates, is exactly the same at
all sites while preserving intention.</p>

<p>The Channel plugin runs both in browsers and NodeJS environment and requires
a NodeJS server running in order to synchronize clients. The procedure to get the channel plugin
up and running is quite straightforward and is described in this document. However, if you, for any reason, do 
not want to maintain a NodeJS application on your backend, please <a href="mailto:org@client.io?Subject=Channel">let us know</a>. 
Thanks to the cross-domain nature of the Channel plugin, we can run the NodeJS application for you which
means that the only thing you have to do is to use the client-side part of the Channel plugin. This
allows you to have real-time collaboration in your applications without any backend configuration!</p>

<p>The demo of this plugin can be seen <a href="/rappid/tour">here</a>.
    If you open the same URL of the Rappid demo (including the hash part that it gave you) in a different browser window
    or send it to a friend, you should be able to collaborate on the same document in real-time.
</p>


<h3 id="com.Channel.install">Install</h3>

<h4>In a browser</h4>

<p>Include <code class="highlighted">joint<span class="token punctuation">.</span>com<span class="token punctuation">.</span>channel<span class="token punctuation">.</span>js</code> file into your HTML:</p>
<pre><code data-lang="html" class="highlighted"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>joint.com.channel.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>


<h4>On a server</h4>

<p>
Make sure you have <a href="http://nodejs.org">NodeJS</a> installed. NodeJS installation already comes
with NPM (Node Package Manager) that we&apos;ll use to install all the dependencies. Go to the Rappid package
root directory (where the <code class="highlighted"><span class="token keyword">package</span><span class="token punctuation">.</span>json</code> file is located) and run:</p>

<pre><code class="highlighted">npm install</code></pre>

<p>
This will install all the necessary dependencies needed by the server side Channel.
</p>

<h3 id="com.Channel.usage">Usage</h3>

<h4>In a browser</h4>

<p>In a browser, the only thing necessary is to instantiate the <code class="highlighted">joint<span class="token punctuation">.</span>com<span class="token punctuation">.</span>Channel</code> constructor function
and pass it a <b><code class="highlighted">url</code></b> of the server-side channel and the <b><code class="highlighted">graph</code></b> we
want to be synchronising:</p>


<pre><code class="highlighted"><span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> channel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>com<span class="token punctuation">.</span>Channel</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">&apos;ws://localhost:4141&apos;</span><span class="token punctuation">,</span> graph<span class="token punctuation">:</span> graph <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Note we&apos;re using the <i>ws</i> protocol as the Channel plugin uses <a href="http://en.wikipedia.org/wiki/WebSocket">WebSockets</a> for real-time
communication between server and client. If you plan to take advantage of us maintaining the NodeJS server for you,
you&apos;ll get a dedicated URL that you can use in your channel and you can skip the rest of the <i>Usage</i> section.</p>

<h4>On a server</h4>

<p>On a server, we use the exact same <code class="highlighted">joint<span class="token punctuation">.</span>com<span class="token punctuation">.</span>Channel</code> constructor function but this time
we pass it a <code class="highlighted">port</code> we&apos;d like the WebSocket server to be listening on:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> joint <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;./index&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Channel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;./plugins/com/Channel/joint.com.Channel&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Channel<span class="token punctuation">;</span>

<span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> channel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Channel</span><span class="token punctuation">(</span><span class="token punctuation">{</span> port<span class="token punctuation">:</span> <span class="token number">4141</span><span class="token punctuation">,</span> graph<span class="token punctuation">:</span> graph <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>In this example, we assume the server side script is located in the root directory
of the Rappid package so that the paths used in the <code class="highlighted"><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>s are valid.</p>

<h3 id="com.Channel.rooms">Rooms</h3>

<p>The problem with the previous approach is that if you have more clients that should 
be divided into groups (rooms) each room sharing its own JointJS graph, you&apos;d have to
run as many servers as you have rooms each on a different port. This limits the number
of rooms you can serve by the number of ports that your OS allows you to allocate. In general,
this is not an ideal approach. Instead, we&apos;d rather have just one server running that is able
to maintain more graphs and route the communication between clients based on the room they&apos;re in.
This is exactly what <code class="highlighted">joint<span class="token punctuation">.</span>com<span class="token punctuation">.</span>ChannelHub</code> does.
</p>

<p>ChannelHub runs a WebSocket server and handles client connections. When a client wants
to get connected, ChannelHub decides to which Channel it should route the requests to. In this case,
the only server running is the ChannelHub. The server side Channels don&apos;t create their
servers internally. Your server side script changes to something like this:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> channels <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> channelHub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChannelHub</span><span class="token punctuation">(</span><span class="token punctuation">{</span> port<span class="token punctuation">:</span> <span class="token number">4141</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
channelHub<span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">var</span> query <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> channel <span class="token operator">=</span> channels<span class="token punctuation">[</span>query<span class="token punctuation">.</span>room<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>channel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       channel <span class="token operator">=</span> channels<span class="token punctuation">[</span>query<span class="token punctuation">.</span>room<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>com<span class="token punctuation">.</span>Channel</span><span class="token punctuation">(</span><span class="token punctuation">{</span> graph<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>dia<span class="token punctuation">.</span>Graph</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// If an error occurred, call the callback function with the error as the first argument.</span>
    <span class="token comment" spellcheck="true">// callback(new Error(&apos;Some error has occurred.&apos;));</span>

    <span class="token comment" spellcheck="true">// Otherwise, call the callback function with the channel as the second argument.</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> channel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>Notice how we instantiated the Channel. In this case, we don&apos;t pass neither a <code class="highlighted">url</code> nor
a <code class="highlighted">port</code>. This defines a Channel that is not a client (no <code class="highlighted">url</code>) and it also
does not create a WebSocket server internally (no <code class="highlighted">port</code>). Instead, it is the
ChannelHub that handles requests and decides to which Channel it should route messages to.</p>

<p>Also, your client side initialization of Channel changes a little bit in order to enable rooms:</p>

<pre><code class="highlighted"><span class="token keyword">var</span> channel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">joint<span class="token punctuation">.</span>com<span class="token punctuation">.</span>Channel</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token punctuation">:</span> <span class="token string">&apos;ws://localhost:4141&apos;</span><span class="token punctuation">,</span> graph<span class="token punctuation">:</span> graph<span class="token punctuation">,</span> query<span class="token punctuation">:</span> <span class="token punctuation">{</span> room<span class="token punctuation">:</span> <span class="token string">&apos;A&apos;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

<p>We pass the <code class="highlighted">query</code> object that contains some data that help the ChannelHub
decide to which channel to route the messages to. In this case, we use <code class="highlighted">room<span class="token punctuation">:</span> <span class="token string">&apos;A&apos;</span></code>
and on the server, we saw <code class="highlighted">query<span class="token punctuation">.</span>room</code> which we base our decision on. This data
can be arbitrary. Feel free to use any kind of decision making mechanism.</p>


<h3 id="com.Channel.configuration">Configuration</h3>

<h4>Channel</h4>

<ul>
    <li><code class="highlighted">url</code> - URL of the server-side channel to which we want the client to be connected to. If this parameter is passed,
    the channel is considered to be a client. (Note that you can have a client running in NodeJS too.)</li>
    <li><code class="highlighted">port</code> - port number of the channel server. If this parameter is passed,
        the channel is considered to be a server.</li>
    <li><code class="highlighted">reconnectInterval</code> - if a client looses a connection to the server, it tries to reconnect every <code class="highlighted">reconnectInterval</code> milliseconds.
        The default is 10000ms = 10s. This settings makes sense only for clients.
    </li><li><code class="highlighted">healthCheckInterval</code> - Interval in milliseconds in which a health check is performed
        on all the sites of a server. Each health check decreases the <code class="highlighted">ttl</code> value of a site if the site socket
        is disconnected. If the site socket gets connected again, its <code class="highlighted">ttl</code> returns to its original value. The default is a
        health check performed every 1 minute. Considering the default <code class="highlighted">ttl</code> is 60, this means that if
        every minute of an hour a site didn&apos;t respond (its socket was closed) then such a site is considered dead (not responding anymore) and
        therefore removed from the channel register. The reason for health checks is the following. Consider
        you have ChannelHub running your server. This ChannelHub contains couple of Channels each representing 
        a different room. Consider there is 3 clients connected to one room simultaneously editing the same graph. One
        of the clients doesn&apos;t want to work anymore and shuts down his browser or closes the tab with your application.
        Now the channel of the room still keeps this client in its register as the client might reconnect anytime (the user closed his browser,
        went for a coffee and came back in ten minutes.) The <code class="highlighted">healthCheckInterval</code> and <code class="highlighted">ttl</code>
        allows you to configure the maximum waiting time in which the channel should still keep track of the client.
        This setting makes sense only for server.
    </li>
    <li><code class="highlighted">ttl</code> - time-to-live of a site. Explained above. The actual time to live of a site in milliseconds is <code class="highlighted">ttl <span class="token operator">*</span> healthCheckInterval</code>. The default <code class="highlighted">ttl</code> is 60. 
        This setting makes sense only for server.</li>
    <li><code class="highlighted">query</code> - An object that is send with the initial handshake of a client with a server. This can be an arbitrary JSON object. 
        The <code class="highlighted">query</code> object is especially useful when working with rooms (see above for documentation on using the Channel plugin with rooms).
        This setting makes sense only for clients.</li>
    <li><code class="highlighted">debugLevel</code> - the verbosity of debugging logs. The default 0 meaning no debug messages are printed out. Set to a higher number
        if you want to get some inside on how the Channel works.</li>
</ul>

<h4>ChannelHub</h4>

<ul>
    <li><code class="highlighted">port</code> - port number of the channelHub server.</li>
    <li><code class="highlighted"><span class="token function">route</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span></code> - this is actually not an option that you pass to the ChannelHub constructor function
        but a method that you define directly on the channelHub object. The <code class="highlighted"><span class="token function">route</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span></code> method receives
        a connect request from a client and must return a channel object that is supposed to further communicate
        with that client. The <code class="highlighted">req</code> parameter contains the request object. The <code class="highlighted">req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>query</code>
        contains the <code class="highlighted">query</code> object that the client sent during handshake (see above the Channel configuration section).
        Note that <code class="highlighted">req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>query</code> is a JSON string so you should convert it to an object with <code class="highlighted">JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
        before accessing its inner properties. Use this object to determine what channel to return.</li>
</ul>


        </div>
    </div>
    </div>
        </div>
    </section>
</div>

<script src="js/api.js"></script>

</body>
</html>